<html <!DOCTYPE html>
  <!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
  <!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
  <!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
  <!--[if gt IE 8]>      <html class="no-js"> <!--<![endif]-->
  <html>
    <%- include('partials/header'); -%>

    <body>
      <div class="container p-5 my-5">
        <div class="row">
          <div class="col-md-4"></div>
          <div class="col-md-4">
            <form>
              <div class="mb-3">
                <label for="title" class="form-label">Event Title</label>
                <input
                  type="text"
                  class="form-control"
                  id="title"
                  name="title"
                  required
                />
              </div>
              <div class="mb-3">
                <label for="location" class="form-label">Event Location</label>
                <input
                  class="form-control"
                  type="text"
                  id="location"
                  name="location"
                  required
                />
              </div>
              <div class="row mb-5">
                <div class="col-md">
                  <label for="startTime" class="form-label">Start Time</label>
                  <select id="startTime" class="form-select">
                    <option selected>00</option>
                    <option>0.5</option>
                    <option>01</option>
                    <option>01.5</option>
                    <option>02</option>
                    <option>02.5</option>
                    <option>03</option>
                    <option>03.5</option>
                    <option>04</option>
                    <option>04.5</option>
                    <option>05</option>
                    <option>05.5</option>
                    <option>06</option>
                    <option>06.5</option>
                    <option>07</option>
                    <option>07.5</option>
                    <option>08</option>
                    <option>08.5</option>
                    <option>09</option>
                    <option>09.5</option>
                    <option>10</option>
                    <option>10.5</option>
                    <option>11</option>
                    <option>11.5</option>
                    <option>12</option>
                    <option>12.5</option>
                    <option>13</option>
                    <option>13.5</option>
                    <option>14</option>
                    <option>14.5</option>
                    <option>15</option>
                    <option>15.5</option>
                    <option>16</option>
                    <option>16.5</option>
                    <option>17</option>
                    <option>17.5</option>
                    <option>18</option>
                    <option>18.5</option>
                    <option>19</option>
                    <option>19.5</option>
                    <option>20</option>
                    <option>20.5</option>
                    <option>21</option>
                    <option>21.5</option>
                    <option>22</option>
                    <option>22.5</option>
                    <option>23</option>
                    <option>23.5</option>
                    <option>24</option>
                  </select>
                </div>
                <div class="col-md">
                  <label for="endTime" class="form-label">End Time</label>
                  <select id="endTime" class="form-select">
                    <option selected>00</option>
                    <option>0.5</option>
                    <option>01</option>
                    <option>01.5</option>
                    <option>02</option>
                    <option>02.5</option>
                    <option>03</option>
                    <option>03.5</option>
                    <option>04</option>
                    <option>04.5</option>
                    <option>05</option>
                    <option>05.5</option>
                    <option>06</option>
                    <option>06.5</option>
                    <option>07</option>
                    <option>07.5</option>
                    <option>08</option>
                    <option>08.5</option>
                    <option>09</option>
                    <option>09.5</option>
                    <option>10</option>
                    <option>10.5</option>
                    <option>11</option>
                    <option>11.5</option>
                    <option>12</option>
                    <option>12.5</option>
                    <option>13</option>
                    <option>13.5</option>
                    <option>14</option>
                    <option>14.5</option>
                    <option>15</option>
                    <option>15.5</option>
                    <option>16</option>
                    <option>16.5</option>
                    <option>17</option>
                    <option>17.5</option>
                    <option>18</option>
                    <option>18.5</option>
                    <option>19</option>
                    <option>19.5</option>
                    <option>20</option>
                    <option>20.5</option>
                    <option>21</option>
                    <option>21.5</option>
                    <option>22</option>
                    <option>22.5</option>
                    <option>23</option>
                    <option>23.5</option>
                    <option>24</option>
                  </select>
                </div>
              </div>
              <button type="submit" class="btn btn-primary">Submit</button>
            </form>
          </div>
        </div>
      </div>
      <script>
        const form = document.querySelector("form");

        form.addEventListener("submit", async (e) => {
          e.preventDefault();
          const title = form.title.value;
          const location = form.location.value;
          const startAt = form.startTime.value;
          const endAt = form.endTime.value;

          try {
            const result = await fetch("/events/create", {
              method: "POST",
              body: JSON.stringify({ title, location, startAt, endAt }),
              headers: { "Content-Type": "application/json" },
            });
            window.location.href = "/display-events";
            console.log("req fired");
          } catch (e) {
            console.log(e);
          }
        });
      </script>
    </body>
  </html>
</html>
